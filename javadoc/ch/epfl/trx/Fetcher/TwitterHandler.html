<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="fr">
<head>
<!-- Generated by javadoc (1.8.0_45) on Tue Jul 28 18:10:22 CEST 2015 -->
<title>TwitterHandler</title>
<meta name="date" content="2015-07-28">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TwitterHandler";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?ch/epfl/trx/Fetcher/TwitterHandler.html" target="_top">Frames</a></li>
<li><a href="TwitterHandler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">ch.epfl.trx.Fetcher</div>
<h2 title="Class TwitterHandler" class="title">Class TwitterHandler</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>ch.epfl.trx.Fetcher.TwitterHandler</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">TwitterHandler</span>
extends java.lang.Object</pre>
<div class="block">Class modelizing Twitter data
 Does anything twitter-only related</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Tristan Deloche</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ch/epfl/trx/Fetcher/TwitterHandler.html#output">output</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) twitter4j.Twitter</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ch/epfl/trx/Fetcher/TwitterHandler.html#twitter">twitter</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../ch/epfl/trx/Fetcher/TwitterHandler.html#TwitterHandler--">TwitterHandler</a></span>()</code>
<div class="block">Constructon embedding credentials for the twitter account.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ch/epfl/trx/Fetcher/TwitterHandler.html#closeEntropyStatus-java.lang.String-">closeEntropyStatus</a></span>(java.lang.String&nbsp;hashtag)</code>
<div class="block">Same as startEntropyStatus() except for the "entropy collection finished..." tweet.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ch/epfl/trx/Fetcher/TwitterHandler.html#executeSearch-java.lang.String-">executeSearch</a></span>(java.lang.String&nbsp;hashtag)</code>
<div class="block">Searches for all the tweets published with a said hashtag (takes in account tweets published until around 30 SECONDS BEFORE THIS ACTIVATES)
 This is a twitter limitation.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ch/epfl/trx/Fetcher/TwitterHandler.html#startEntropyStatus-java.lang.String-java.lang.String-">startEntropyStatus</a></span>(java.lang.String&nbsp;security,
                  java.lang.String&nbsp;hashtag)</code>
<div class="block">Publishes the "beginning entropy..." tweet for said security/hastag.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../ch/epfl/trx/Fetcher/TwitterHandler.html#writeTweetsToFile-java.lang.String-java.lang.String-">writeTweetsToFile</a></span>(java.lang.String&nbsp;T0_SECURITY,
                 java.lang.String&nbsp;hashtag)</code>
<div class="block">Writes the tweets to a single text file under the text subdirectory.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="output">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>output</h4>
<pre>java.lang.String output</pre>
</li>
</ul>
<a name="twitter">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>twitter</h4>
<pre>twitter4j.Twitter twitter</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TwitterHandler--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TwitterHandler</h4>
<pre>public&nbsp;TwitterHandler()</pre>
<div class="block">Constructon embedding credentials for the twitter account. Do not disclose bla bla bla.
 See dev.twitter.com's "my apps" panel for more info it's pretty obvious once you're there.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="startEntropyStatus-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startEntropyStatus</h4>
<pre>public&nbsp;void&nbsp;startEntropyStatus(java.lang.String&nbsp;security,
                               java.lang.String&nbsp;hashtag)</pre>
<div class="block">Publishes the "beginning entropy..." tweet for said security/hastag.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>security</code> - Security of the curve</dd>
<dd><code>hashtag</code> - Hashtag to use. Format is "XXXXX" and /!NOT!/ "#trx_curve_XXXXX".</dd>
</dl>
</li>
</ul>
<a name="closeEntropyStatus-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeEntropyStatus</h4>
<pre>public&nbsp;void&nbsp;closeEntropyStatus(java.lang.String&nbsp;hashtag)</pre>
<div class="block">Same as startEntropyStatus() except for the "entropy collection finished..." tweet.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>hashtag</code> - hashtag to "end"</dd>
</dl>
</li>
</ul>
<a name="executeSearch-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executeSearch</h4>
<pre>public&nbsp;void&nbsp;executeSearch(java.lang.String&nbsp;hashtag)</pre>
<div class="block">Searches for all the tweets published with a said hashtag (takes in account tweets published until around 30 SECONDS BEFORE THIS ACTIVATES)
 This is a twitter limitation. I hate major big data services always trying to save processing time here and there but what can you do ?

 Anyway look into the twitter4J library for more info on the syntax.
 Basically setting up to 100 (max) number of tweets taken into account (thank you again twitter...)
 Then formats all the tweets so they look nice (twitter API is in JSON and JSON is pretty ugly). Again see Twitter4J's Javadoc.
 prints the number of tweets and which of them. Mostly for debugging purposes but it shouldn't show too much ever so you can let it here.

 Then calls closeEntropyStatus() to automatically close after search is done.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>hashtag</code> - Hahstag to search for. Format XXXX and not #trx_curve_XXXX again.</dd>
</dl>
</li>
</ul>
<a name="writeTweetsToFile-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>writeTweetsToFile</h4>
<pre>public&nbsp;void&nbsp;writeTweetsToFile(java.lang.String&nbsp;T0_SECURITY,
                              java.lang.String&nbsp;hashtag)
                       throws java.lang.ClassNotFoundException,
                              java.sql.SQLException,
                              java.lang.InstantiationException,
                              java.lang.IllegalAccessException,
                              com.jcraft.jsch.JSchException</pre>
<div class="block">Writes the tweets to a single text file under the text subdirectory.
 Throws a bunch of exceptions related to file handling in JAVA. If you have permission to write all will go well.

 Mostly creates a fileoutput. Converts the "output" class-level variable into bytes and write them one by one into the file.
 Could use a buffer but 100 tweets is max 14000 characters for it wouldn't even be worth it due to the small number of bytes.

 After writing it the sqlhandler.addTweetsFile will automaticall upload it and add the resulting URL into the SQL database.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>T0_SECURITY</code> - Related security, only here for the sqlHandler to know what to update.</dd>
<dd><code>hashtag</code> - The hashtag since the tweets file needs to have it in its filename, and for sqlHandler to find it afterwards too.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.ClassNotFoundException</code></dd>
<dd><code>java.sql.SQLException</code></dd>
<dd><code>java.lang.InstantiationException</code></dd>
<dd><code>java.lang.IllegalAccessException</code></dd>
<dd><code>com.jcraft.jsch.JSchException</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?ch/epfl/trx/Fetcher/TwitterHandler.html" target="_top">Frames</a></li>
<li><a href="TwitterHandler.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
